<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GSCFieldApp.Views.MapPage"
             xmlns:mapsui="clr-namespace:Mapsui.UI.Maui;assembly=Mapsui.UI.Maui"
             xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"
             xmlns:local="clr-namespace:GSCFieldApp.Services"
             xmlns:viewmodel="clr-namespace:GSCFieldApp.ViewModel"
             x:DataType="viewmodel:MapViewModel" 
             Title="{local:Localize ShellMapTitle}">
    <ContentPage.Content>
        <Grid Margin="0,-48,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="48"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="48"/>
            </Grid.RowDefinitions>
            
            <!--Controls header bar-->
            <StackLayout Orientation="Horizontal" Grid.Row="0" FlowDirection="RightToLeft">

                <!--Manual XY-->
                <Button Text="XY" Style="{StaticResource FieldAppHeaderButton}"/>

                <!--Waypoint-->
                <Button Text="&#xF023D;" Style="{StaticResource FieldAppHeaderButton}"/>

                <!--Quick structure/pflow-->
                <Button Text="&#xF183F;" Style="{StaticResource FieldAppHeaderButton}"/>

                <!--Quick photo-->
                <Button Text="&#xF0D5D;" Style="{StaticResource FieldAppHeaderButton}"/>

                <!--Quick sample-->
                <Button Text="&#xF04FD;" Style="{StaticResource FieldAppHeaderButton}"/>

                <!--Quick station-->
                <Button Command="{Binding AddStationCommand}" Text="&#xF12FC;" Style="{StaticResource FieldAppHeaderButton}"/>

            </StackLayout> 
            
            
            <!--Map Control-->
            <mapsui:MapView x:Name="mapView"
                            Grid.Row ="1"
                            IsVisible="true"
                            VerticalOptions="FillAndExpand"
                            HorizontalOptions="FillAndExpand"
                            Margin="10" />
            
            <!--Label Bar-->
            <Label Grid.Row="2"  x:Name="info" 
            HorizontalOptions="CenterAndExpand"
            Text="unknown" />
            
            <!--Controls bottom bar-->
            <StackLayout Orientation="Horizontal" BackgroundColor="{StaticResource Primary}" Grid.Row="3" FlowDirection="RightToLeft" >

                <!--Tap option -->
                <Button Text="&#xF0A55;" Style="{StaticResource FieldAppHeaderButton}"/>

                <!--Manage layers-->
                <Button Text="&#xF0F59;" Style="{StaticResource FieldAppHeaderButton}"/>
            
                <!--Add new layer-->
                <Button Text="&#xF0E4D;" Style="{StaticResource FieldAppHeaderButton}"/>

            </StackLayout>
        </Grid>
    </ContentPage.Content>

</ContentPage>